<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Proxy Browser</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'MS Sans Serif', Arial, sans-serif;
      background: #c0c0c0;
      color: #000;
      height: 100vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .toolbar {
      background: #c0c0c0;
      border-bottom: 2px solid #808080;
      padding: 5px;
      display: flex;
      gap: 5px;
      flex-wrap: wrap;
    }

    .toolbar-row {
      display: flex;
      gap: 5px;
      width: 100%;
      align-items: center;
    }

    .button {
      padding: 4px 12px;
      background: #c0c0c0;
      border: 2px outset #fff;
      cursor: pointer;
      font-family: 'MS Sans Serif', Arial, sans-serif;
      font-size: 11px;
      white-space: nowrap;
    }

    .button:active {
      border-style: inset;
    }

    .button:hover {
      background: #d4d4d4;
    }

    .button:disabled {
      color: #808080;
      cursor: not-allowed;
    }

    .url-bar {
      display: flex;
      gap: 5px;
      flex: 1;
      align-items: center;
    }

    .url-bar label {
      font-size: 11px;
      white-space: nowrap;
    }

    .url-bar input {
      flex: 1;
      padding: 4px;
      border: 2px inset #808080;
      font-family: 'MS Sans Serif', Arial, sans-serif;
      font-size: 11px;
      min-width: 200px;
    }

    .proxy-selector {
      display: flex;
      gap: 5px;
      align-items: center;
    }

    .proxy-selector label {
      font-size: 11px;
      white-space: nowrap;
    }

    .proxy-selector select {
      padding: 3px;
      border: 2px inset #808080;
      background: #fff;
      font-family: 'MS Sans Serif', Arial, sans-serif;
      font-size: 11px;
    }

    .status-bar {
      background: #c0c0c0;
      border-top: 2px solid #fff;
      padding: 3px 8px;
      font-size: 11px;
      display: flex;
      gap: 15px;
      align-items: center;
    }

    .status-indicator {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #90ee90;
    }

    .status-dot.loading {
      background: #ffd700;
    }

    .status-dot.error {
      background: #ff6b6b;
    }

    .content {
      flex: 1;
      display: flex;
      flex-direction: column;
      background: #fff;
      border: 2px inset #808080;
      margin: 2px;
      overflow: hidden;
      position: relative;
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    .loading-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(192, 192, 192, 0.9);
      display: none;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      gap: 10px;
    }

    .loading-overlay.show {
      display: flex;
    }

    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 4px solid #e0e0e0;
      border-top: 4px solid #000080;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .info-panel {
      background: #ffffcc;
      border: 1px solid #808080;
      padding: 15px;
      margin: 20px;
      font-size: 11px;
      line-height: 1.6;
    }

    .info-panel strong {
      display: block;
      margin-bottom: 8px;
      font-size: 12px;
    }

    .info-panel ul {
      margin-left: 20px;
      margin-top: 8px;
    }

    .info-panel li {
      margin-bottom: 5px;
    }

    .proxy-info {
      background: #e0e0e0;
      border: 2px inset #808080;
      padding: 8px;
      margin-top: 10px;
      font-size: 10px;
      font-family: 'Courier New', monospace;
    }
  </style>
</head>
<body>
  <div class="toolbar">
    <div class="toolbar-row">
      <button class="button" onclick="goBack()" id="backBtn" disabled>‚óÑ Back</button>
      <button class="button" onclick="goForward()" id="forwardBtn" disabled>Forward ‚ñ∫</button>
      <button class="button" onclick="reload()">üîÑ Reload</button>
      <button class="button" onclick="goHome()">üè† Home</button>
      
      <div class="url-bar">
        <label>URL:</label>
        <input type="text" id="urlInput" placeholder="https://example.com" onkeypress="handleUrlKeypress(event)">
        <button class="button" onclick="navigate()">Go</button>
      </div>
    </div>
    
    <div class="toolbar-row">
      <div class="proxy-selector">
        <label>üåê Proxy:</label>
        <select id="proxySelect" onchange="changeProxy()">
          <option value="direct">Direct (No Proxy)</option>
          <option value="cors-anywhere">CORS Anywhere</option>
          <option value="allorigins">AllOrigins</option>
          <option value="thingproxy">ThingProxy</option>
          <option value="custom">Custom Proxy...</option>
        </select>
      </div>
      
      <button class="button" onclick="showProxyInfo()">‚ÑπÔ∏è Info</button>
      <button class="button" onclick="clearCache()">üóëÔ∏è Clear Cache</button>
    </div>
  </div>

  <div class="content">
    <div class="loading-overlay" id="loadingOverlay">
      <div class="loading-spinner"></div>
      <div>Loading...</div>
    </div>
    
    <div id="infoPanel" class="info-panel" style="display: block;">
      <strong>üåê Proxy Browser - Access websites through proxy servers</strong>
      
      <div style="margin-top: 10px;">
        <strong>How to use:</strong>
        <ul>
          <li>Enter a website URL in the address bar</li>
          <li>Select a proxy service from the dropdown</li>
          <li>Click "Go" or press Enter to load the page</li>
          <li>Use navigation buttons to browse</li>
        </ul>
      </div>

      <div class="proxy-info">
        <strong>Available Proxies:</strong><br>
        ‚Ä¢ Direct - No proxy (may have CORS restrictions)<br>
        ‚Ä¢ CORS Anywhere - Public CORS proxy<br>
        ‚Ä¢ AllOrigins - Proxy with full page access<br>
        ‚Ä¢ ThingProxy - Simple proxy service<br>
        ‚Ä¢ Custom - Enter your own proxy URL
      </div>

      <div style="margin-top: 10px; font-size: 10px; color: #666;">
        <strong>‚ö†Ô∏è Note:</strong> This is a client-side proxy browser. Some websites may not work due to CORS policies, 
        iframe restrictions, or proxy limitations. Public proxies may be slow or unavailable at times.
        For best results, consider running your own proxy server.
      </div>
    </div>
    
    <iframe id="contentFrame" style="display: none;"></iframe>
  </div>

  <div class="status-bar">
    <div class="status-indicator">
      <div class="status-dot" id="statusDot"></div>
      <span id="statusText">Ready</span>
    </div>
    <span id="proxyStatus">Proxy: Direct</span>
    <span id="urlStatus"></span>
  </div>

  <script>
    let currentUrl = '';
    let currentProxy = 'direct';
    let history = [];
    let historyIndex = -1;
    let customProxyUrl = '';

    const proxyUrls = {
      'cors-anywhere': 'https://cors-anywhere.herokuapp.com/',
      'allorigins': 'https://api.allorigins.win/raw?url=',
      'thingproxy': 'https://thingproxy.freeboard.io/fetch/'
    };

    function setStatus(text, state = 'ready') {
      document.getElementById('statusText').textContent = text;
      const dot = document.getElementById('statusDot');
      dot.className = 'status-dot';
      if (state === 'loading') dot.classList.add('loading');
      if (state === 'error') dot.classList.add('error');
    }

    function showLoading(show) {
      const overlay = document.getElementById('loadingOverlay');
      overlay.className = 'loading-overlay' + (show ? ' show' : '');
    }

    function changeProxy() {
      const select = document.getElementById('proxySelect');
      currentProxy = select.value;
      
      if (currentProxy === 'custom') {
        const input = prompt('Enter custom proxy URL (e.g., https://yourproxy.com/):', customProxyUrl);
        if (input) {
          customProxyUrl = input;
          document.getElementById('proxyStatus').textContent = 'Proxy: Custom';
        } else {
          select.value = 'direct';
          currentProxy = 'direct';
        }
      } else {
        document.getElementById('proxyStatus').textContent = `Proxy: ${select.options[select.selectedIndex].text}`;
      }
      
      setStatus('Proxy changed', 'ready');
    }

    function getProxyUrl(url) {
      if (currentProxy === 'direct') {
        return url;
      } else if (currentProxy === 'custom') {
        return customProxyUrl + url;
      } else {
        return proxyUrls[currentProxy] + encodeURIComponent(url);
      }
    }

    function navigate() {
      let url = document.getElementById('urlInput').value.trim();
      
      if (!url) {
        setStatus('Please enter a URL', 'error');
        return;
      }

      // Add https:// if no protocol
      if (!url.startsWith('http://') && !url.startsWith('https://')) {
        url = 'https://' + url;
      }

      loadUrl(url);
    }

    function loadUrl(url) {
      currentUrl = url;
      document.getElementById('urlInput').value = url;
      document.getElementById('urlStatus').textContent = url;
      
      const infoPanel = document.getElementById('infoPanel');
      const frame = document.getElementById('contentFrame');
      
      infoPanel.style.display = 'none';
      frame.style.display = 'block';
      
      showLoading(true);
      setStatus('Loading...', 'loading');

      const proxiedUrl = getProxyUrl(url);
      
      try {
        frame.src = proxiedUrl;
        
        // Add to history
        if (historyIndex < history.length - 1) {
          history = history.slice(0, historyIndex + 1);
        }
        history.push(url);
        historyIndex = history.length - 1;
        updateNavigationButtons();
        
        // Simulate loading completion (since we can't reliably detect iframe load)
        setTimeout(() => {
          showLoading(false);
          setStatus('Page loaded', 'ready');
        }, 2000);
        
      } catch (error) {
        showLoading(false);
        setStatus('Error loading page', 'error');
        alert('Error: ' + error.message);
      }
    }

    function goBack() {
      if (historyIndex > 0) {
        historyIndex--;
        loadUrl(history[historyIndex]);
      }
    }

    function goForward() {
      if (historyIndex < history.length - 1) {
        historyIndex++;
        loadUrl(history[historyIndex]);
      }
    }

    function reload() {
      if (currentUrl) {
        loadUrl(currentUrl);
      }
    }

    function goHome() {
      document.getElementById('urlInput').value = '';
      document.getElementById('contentFrame').style.display = 'none';
      document.getElementById('infoPanel').style.display = 'block';
      currentUrl = '';
      document.getElementById('urlStatus').textContent = '';
      setStatus('Ready', 'ready');
    }

    function updateNavigationButtons() {
      document.getElementById('backBtn').disabled = historyIndex <= 0;
      document.getElementById('forwardBtn').disabled = historyIndex >= history.length - 1;
    }

    function handleUrlKeypress(event) {
      if (event.key === 'Enter') {
        navigate();
      }
    }

    function showProxyInfo() {
      const info = `Proxy Browser Information

Current Proxy: ${document.getElementById('proxySelect').options[document.getElementById('proxySelect').selectedIndex].text}
Current URL: ${currentUrl || 'None'}

Available Proxies:
‚Ä¢ CORS Anywhere: Public proxy for CORS requests
‚Ä¢ AllOrigins: Returns full page content
‚Ä¢ ThingProxy: Simple proxy service
‚Ä¢ Custom: Use your own proxy server

Note: Public proxies may be rate-limited or temporarily unavailable.
For production use, consider running your own proxy server.`;
      
      alert(info);
    }

    function clearCache() {
      const frame = document.getElementById('contentFrame');
      frame.src = 'about:blank';
      setTimeout(() => {
        if (currentUrl) {
          loadUrl(currentUrl);
        }
      }, 100);
      setStatus('Cache cleared', 'ready');
    }

    // Initialize
    updateNavigationButtons();
    setStatus('Ready', 'ready');
  </script>
</body>
</html>